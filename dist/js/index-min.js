"use strict";window.addEventListener("load",()=>{document.querySelector("body").classList.remove("body_no-load"),/iP(hone|ad)/.test(window.navigator.userAgent)&&document.body.addEventListener("touchstart",()=>{},!1)}),jQuery(document).ready(e=>{const t={name:"plate",id:1,selector:"",canvas:"",crop:{},setImageCanvas:e=>{const a=t.canvas.getContext("2d"),s=new Image(337,295);s.onload=function(){a.drawImage(this,0,0)},s.src=e},init(){this.selector=`#${this.name}_id_${this.id}`,this.canvas=document.querySelector(`${this.selector} canvas`),setTimeout(()=>{e(`${this.selector} canvas`).cropper({viewMode:2,dragMode:"none",crop:e=>{console.log(e.detail.x),console.log(e.detail.y),console.log(e.detail.width),console.log(e.detail.height)}})},90)}};(e=>e.forEach(e=>e.init()))([{name:"panel",selector:"",customizer:{},plateArray:[],init(){}},t,{name:"customizer",options:[{name:"Material 1",src:"images/material/1.jpg",thumb_src:"images/material_thumb/1_32x32.jpg"},{name:"Material 2",src:"images/material/2.jpg",thumb_src:"images/material_thumb/2_32x32.jpg"},{name:"Material 3",src:"images/material/3.jpg",thumb_src:"images/material_thumb/3_32x32.jpg"},{name:"Material 4",src:"images/material/4.jpg",thumb_src:"images/material_thumb/4_32x32.jpg"},{name:"Material 5",src:"images/material/5.jpg",thumb_src:"images/material_thumb/5_32x32.jpg"}],default_src:"",position:"",selector:".material-select",templateSelect:t=>t.id?e('<img src="'+t.element.getAttribute("data-thumb")+'" class="img-thumb" > <span>'+t.text+"</span>"):t.text,eventsSelect(){},init(){this.default_src=this.options[0].src}}]),t.setImageCanvas("./assets/images/test-image.png"),e(".plate .plate__scale").on("click",function(t){const a=e(this).parent(".plate").attr("id"),s=-1==e(".plate canvas").cropper("getData").scaleX?1:-1;e(`#${a} canvas`).cropper("scaleX",s)}),e(".panel-add").on("click",function(t){let a=e(".plate").length+1;e(".plate").clone().attr("id",`plate_id_${a}`).appendTo(".plate-col")}),e(document).on("mouseover",".plate .cropper-container",()=>{e(document).find(".cropper-center").hide()}).on("mouseleave",".plate .cropper-container",()=>{e(document).find(".cropper-center").show()})});